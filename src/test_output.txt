src PlaceA dest PlaceF minimize km
---------------------
MATCH  p=(src:Place { name:'PlaceA'})-[:ROAD*1..100]->(dest:Place { name:'PlaceF'})
WHERE ALL(n in nodes(p) where 1=size(filter(m in nodes(p) WHERE m=n)))RETURN p AS path,
reduce(km=0, r in relationships(p) | km+r.km) AS totalkm
ORDER BY totalkm ASC
LIMIT 1

src PlaceA dest PlaceF maximize km not pass PlaceH
---------------------
MATCH  p=(src:Place { name:'PlaceA'})-[:ROAD*1..100]->(dest:Place { name:'PlaceF'})
,(nodePlaceH:Place { name:'PlaceH' })
WHERE ALL(n in nodes(p) where 1=size(filter(m in nodes(p) WHERE m=n)))AND NONE (n IN nodes(p) WHERE n=nodePlaceH)
RETURN p AS path,
reduce(km=0, r in relationships(p) | km+r.km) AS totalkm
ORDER BY totalkm DESC
LIMIT 1

src PlaceA dest PlaceF minimize km pass PlaceB, PlaceE
---------------------
MATCH  p=(src:Place { name:'PlaceA'})-[:ROAD*1..100]->(dest:Place { name:'PlaceF'})
,(nodePlaceB:Place { name:'PlaceB' })
,(nodePlaceE:Place { name:'PlaceE' })
WHERE ALL(n in nodes(p) where 1=size(filter(m in nodes(p) WHERE m=n)))AND nodePlaceB IN nodes(p)AND nodePlaceE IN nodes(p)RETURN p AS path,
reduce(km=0, r in relationships(p) | km+r.km) AS totalkm
ORDER BY totalkm ASC
LIMIT 1

src PlaceA cycle minlength 0 km
PlaceA#ml=0%cycle-km

src PlaceA cycle minlength 0 km not pass c
PlaceA#ml=0%cycle-km%NotPass->c

src PlaceA simplecycle minlength 0 km pass c, d
PlaceA#ml=0%simplecycle-km%Pass->c>d

